pub trait MessageBuffer {
    fn message_count(&self) -> usize;
}